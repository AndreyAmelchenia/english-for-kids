!function(t){var a={};function e(s){if(a[s])return a[s].exports;var i=a[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=a,e.d=function(t,a,s){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)e.d(s,i,function(a){return t[a]}.bind(null,i));return s},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="",e(e.s=1)}([function(t,a,e){},function(t,a,e){"use strict";e.r(a);e(0);const s=[[{word:"cry",translation:"плакать",image:"../assets/img/cry.jpg",audioSrc:"../assets/audio/cry.mp3"},{word:"dance",translation:"танцевать",image:"../assets/img/dance.jpg",audioSrc:"../assets/audio/dance.mp3"},{word:"dive",translation:"нырять",image:"../assets/img/dive.jpg",audioSrc:"../assets/audio/dive.mp3"},{word:"draw",translation:"рисовать",image:"../assets/img/draw.jpg",audioSrc:"../assets/audio/draw.mp3"},{word:"fish",translation:"ловить рыбу",image:"../assets/img/fish.jpg",audioSrc:"../assets/audio/fish.mp3"},{word:"fly",translation:"летать",image:"../assets/img/fly.jpg",audioSrc:"../assets/audio/fly.mp3"},{word:"hug",translation:"обнимать",image:"../assets/img/hug.jpg",audioSrc:"../assets/audio/hug.mp3"},{word:"jump",translation:"прыгать",image:"../assets/img/jump.jpg",audioSrc:"../assets/audio/jump.mp3"}],[{word:"open",translation:"открывать",image:"../assets/img/open.jpg",audioSrc:"../assets/audio/open.mp3"},{word:"play",translation:"играть",image:"../assets/img/play.jpg",audioSrc:"../assets/audio/play.mp3"},{word:"point",translation:"указывать",image:"../assets/img/point.jpg",audioSrc:"../assets/audio/point.mp3"},{word:"ride",translation:"ездить",image:"../assets/img/ride.jpg",audioSrc:"../assets/audio/ride.mp3"},{word:"run",translation:"бегать",image:"../assets/img/run.jpg",audioSrc:"../assets/audio/run.mp3"},{word:"sing",translation:"петь",image:"../assets/img/sing.jpg",audioSrc:"../assets/audio/sing.mp3"},{word:"skip",translation:"пропускать, прыгать",image:"../assets/img/skip.jpg",audioSrc:"../assets/audio/skip.mp3"},{word:"swim",translation:"плавать",image:"../assets/img/swim.jpg",audioSrc:"../assets/audio/swim.mp3"}],[{word:"cat",translation:"кот",image:"../assets/img/cat.jpg",audioSrc:"../assets/audio/cat.mp3"},{word:"chick",translation:"цыплёнок",image:"../assets/img/chick.jpg",audioSrc:"../assets/audio/chick.mp3"},{word:"chicken",translation:"курица",image:"../assets/img/chicken.jpg",audioSrc:"../assets/audio/chicken.mp3"},{word:"dog",translation:"собака",image:"../assets/img/dog.jpg",audioSrc:"../assets/audio/dog.mp3"},{word:"horse",translation:"лошадь",image:"../assets/img/horse.jpg",audioSrc:"../assets/audio/horse.mp3"},{word:"pig",translation:"свинья",image:"../assets/img/pig.jpg",audioSrc:"../assets/audio/pig.mp3"},{word:"rabbit",translation:"кролик",image:"../assets/img/rabbit.jpg",audioSrc:"../assets/audio/rabbit.mp3"},{word:"sheep",translation:"овца",image:"../assets/img/sheep.jpg",audioSrc:"../assets/audio/sheep.mp3"}],[{word:"bird",translation:"птица",image:"../assets/img/bird.jpg",audioSrc:"../assets/audio/bird.mp3"},{word:"fish",translation:"рыба",image:"../assets/img/fish1.jpg",audioSrc:"../assets/audio/fish.mp3"},{word:"frog",translation:"жаба",image:"../assets/img/frog.jpg",audioSrc:"../assets/audio/frog.mp3"},{word:"giraffe",translation:"жирафа",image:"../assets/img/giraffe.jpg",audioSrc:"../assets/audio/giraffe.mp3"},{word:"lion",translation:"лев",image:"../assets/img/lion.jpg",audioSrc:"../assets/audio/lion.mp3"},{word:"mouse",translation:"мышь",image:"../assets/img/mouse.jpg",audioSrc:"../assets/audio/mouse.mp3"},{word:"turtle",translation:"черепаха",image:"../assets/img/turtle.jpg",audioSrc:"../assets/audio/turtle.mp3"},{word:"dolphin",translation:"дельфин",image:"../assets/img/dolphin.jpg",audioSrc:"../assets/audio/dolphin.mp3"}],[{word:"skirt",translation:"юбка",image:"../assets/img/skirt.jpg",audioSrc:"../assets/audio/skirt.mp3"},{word:"pants",translation:"брюки",image:"../assets/img/pants.jpg",audioSrc:"../assets/audio/pants.mp3"},{word:"blouse",translation:"блузка",image:"../assets/img/blouse.jpg",audioSrc:"../assets/audio/blouse.mp3"},{word:"dress",translation:"платье",image:"../assets/img/dress.jpg",audioSrc:"../assets/audio/dress.mp3"},{word:"boot",translation:"ботинок",image:"../assets/img/boot.jpg",audioSrc:"../assets/audio/boot.mp3"},{word:"shirt",translation:"рубашка",image:"../assets/img/shirt.jpg",audioSrc:"../assets/audio/shirt.mp3"},{word:"coat",translation:"пальто",image:"../assets/img/coat.jpg",audioSrc:"../assets/audio/coat.mp3"},{word:"shoe",translation:"туфли",image:"../assets/img/shoe.jpg",audioSrc:"../assets/audio/shoe.mp3"}],[{word:"sad",translation:"грустный",image:"../assets/img/sad.jpg",audioSrc:"../assets/audio/sad.mp3"},{word:"angry",translation:"сердитый",image:"../assets/img/angry.jpg",audioSrc:"../assets/audio/angry.mp3"},{word:"happy",translation:"счастливый",image:"../assets/img/happy.jpg",audioSrc:"../assets/audio/happy.mp3"},{word:"tired",translation:"уставший",image:"../assets/img/tired.jpg",audioSrc:"../assets/audio/tired.mp3"},{word:"surprised",translation:"удивлённый",image:"../assets/img/surprised.jpg",audioSrc:"../assets/audio/surprised.mp3"},{word:"scared",translation:"испуганный",image:"../assets/img/scared.jpg",audioSrc:"../assets/audio/scared.mp3"},{word:"smile",translation:"улыбка",image:"../assets/img/smile.jpg",audioSrc:"../assets/audio/smile.mp3"},{word:"laugh",translation:"смех",image:"../assets/img/laugh.jpg",audioSrc:"../assets/audio/laugh.mp3"}]],i=[{image:"assets/img/cry.jpg",categoryName:"Action (set A)"},{image:"assets/img/dance.jpg",categoryName:"Action (set B)"},{image:"assets/img/dive.jpg",categoryName:"Animal (set A)"},{image:"assets/img/draw.jpg",categoryName:"Animal (set B)"},{image:"assets/img/fish.jpg",categoryName:"Clothes"},{image:"assets/img/fly.jpg",categoryName:"Emotions"}];var r=class{constructor(t,a,e,s){this.image=t,this.word=a,this.translation=e,this.sound=s}createElem(){return`<div id="card-wrapper" class="card-wrapper">\n                    <div data-name="${this.word}" class="card card-front">\n                        <img class="card__img" src=${this.image} alt="front.png">\n                    </div>\n                    <div class="card card-back">\n                      <img class="card__img" src=${this.image} alt="back.png">\n                      <div class="card__translate">\n                        <p>${this.translation}</p>\n                      </div>\n                    </div>\n                    <div id="tip" class="tip">\n                      <div class="arrow"></div>\n                      <div class="section">\n                        <p>${this.word}</p>\n                        <img class="rotate" src="../assets/img/rotate.svg" alt="rotate.svg">\n                      </div>\n                    </div>\n                    <audio id="sound" src=${this.sound}></audio>\n                  </div>`}createElemPlay(){return`<div id="card-wrapper" class="card-wrapper">\n                    <div class="card card-front">\n                        <img class="card__img" data-name="${this.word}" src=${this.image} alt="front.png">\n                    </div>\n                  </div>`}};var o=class{constructor(t,a){this.image=t,this.categoryName=a}createElem(){return`<a href="./pages/categories.html"><div id="card-wrapper">\n                    <div class="card card-front">\n                      <img class="card__img" src=${this.image} alt="front.png">\n                      <div class="card__translate">\n                        <p>${this.categoryName}</p>\n                      </div>\n                    </div>\n                  </div></a>`}};var n=class{constructor(t,a,e,r,o){this.state=t,this.categories=r||i,this.cards=o||s,this.link=e||"./",this.categoryName=a||"",this.category=[],this.container=document.querySelector(".container"),this.listMenu=document.querySelector(".header__nav__list > ul")}choiceCategory(){let t=0;this.categories.forEach(a=>{this.categoryName===a.categoryName&&(this.category=this.cards[t]),t+=1})}createCategoriesMenu(){this.listMenu.innerHTML="",this.listMenu.innerHTML+=`<li class="header__nav__item"><a href="${this.link}">Categories</a></li>`,this.categories.forEach(t=>{this.listMenu.innerHTML+=`<li class="header__nav__item"><a href="${this.link}pages/categories.html">${t.categoryName}</a></li>`}),this.listMenu.innerHTML+=`<li class="header__nav__item"><a href="${this.link}pages/categories.html">Statistic</a></li>`}createCategoriesPage(){this.container.innerHTML="",this.categories.forEach(t=>{const a=new o(t.image,t.categoryName);this.container.innerHTML+=a.createElem()})}createCategory(t=this.state){if(this.choiceCategory(),this.container.innerHTML="","play"===t){this.category.map(t=>({sort:Math.random(),value:t})).sort((t,a)=>t.sort-a.sort).map(t=>t.value).forEach(t=>{const a=new r(t.image,t.word,t.translation,t.audioSrc);this.container.innerHTML+=a.createElemPlay()})}else this.category.forEach(t=>{const a=new r(t.image,t.word,t.translation,t.audioSrc);this.container.innerHTML+=a.createElem()})}createGood(){this.container.innerHTML="",this.container.innerHTML='<img class="rotate" src="../assets/img/success.jpg" alt="">'}createError(t){this.container.innerHTML="",this.container.innerHTML=`<h1 class="h1">${t} ERROR</h1><img class="rotate" src="../assets/img/failure.jpg" alt="">`}};var c=class{constructor(){this.nav=document.querySelector(".header__nav"),this.navTrigger=document.querySelector(".header__nav__trigger"),this.navContent=document.querySelector(".header__nav__content"),this.navList=document.querySelector(".header__nav__list")}init(){this.navTrigger.addEventListener("click",()=>{this.navTrigger.classList.contains("is-active")||this.nav.classList.contains("is-active")?(this.navTrigger.classList.remove("is-active"),this.navContent.classList.remove("is-active"),this.navContent.addEventListener("transitionend",t=>{"opacity"!==t.propertyName||this.navTrigger.classList.contains("is-active")||this.nav.classList.remove("is-active")})):(this.navTrigger.classList.add("is-active"),this.nav.classList.add("is-active"),this.nav.addEventListener("transitionend",t=>{"width"===t.propertyName&&this.navTrigger.classList.contains("is-active")&&this.navContent.classList.add("is-active")}))})}};var d=class{constructor(t,a){this.sound=[],this.obj=t,this.state=a,this.footer=document.querySelector(".footer"),this.i=0,this.star=document.querySelector(".star"),this.error=0,this.correct=0}createPlay(){this.obj.createCategory(this.state),this.footer.innerHTML="",this.footer.innerHTML+='<label class="power">\n    <input class="footer__button" type="checkbox">\n    <div>\n        <svg class="svg" viewBox="0 0 44 44">\n            <path d="M22,6 C31,6 38,13 38,22 C38,31 31,38 22,38 C13,38 6,31 6,22 C6,13 13,6 22,6 L22,28" id="path"></path>\n        </svg>\n    </div>\n  </label>'}statePlay(t){this.state=t}playArr(){if(0===this.sound.length){this.obj.category.map(t=>({sort:Math.random(),value:t})).sort((t,a)=>t.sort-a.sort).map(t=>t.value).forEach(t=>{const a=new Audio(t.audioSrc);this.sound.push([t.word,a])})}console.log("playArr",this.sound)}playSound(t){this.sound[t][1].play()}playError(t){const a=new Audio("../assets/audio/error.mp3");a.play(),a.addEventListener("ended",()=>{a.duration===a.currentTime&&this.sound[t][1].play()})}playCorrect(t){const a=new Audio("../assets/audio/correct.mp3");a.play(),a.addEventListener("ended",()=>{a.currentTime===a.duration&&this.sound[t][1].play()})}clickCard(){document.querySelectorAll(".card__img").forEach(t=>{t.addEventListener("click",t=>{if(t.target.classList.contains("card__img"))if(this.i<this.sound.length-1)t.target.dataset.name===this.sound[this.i][0]?(this.i+=1,this.correct+=1,this.playCorrect(this.i),this.star.innerHTML+='<img class="card__img" src="../assets/img/star-win.svg" alt="star-win.svg"></img>',t.target.classList.add("card__inactive"),t.target.classList.remove("card__img")):(this.error+=1,this.playError(this.i),this.star.innerHTML+='<img class="card__img" src="../assets/img/star.svg" alt="star.svg"></img>');else if(console.log(this.error),this.error>0){this.obj.createError(this.error),this.footer="";const t=new Audio("../assets/audio/failure.mp3");t.play(),t.addEventListener("ended",()=>{if(t.duration===t.currentTime){const t="off";localStorage.setItem("reload",t),document.location.href="../"}})}else{this.obj.createGood(),this.footer="";const t=new Audio("../assets/audio/success.mp3");t.play(),t.addEventListener("ended",()=>{if(t.duration===t.currentTime){const t="off";localStorage.setItem("reload",t),document.location.href="../"}})}})})}game(){document.querySelector(".footer__button").checked&&(this.playSound(this.i),this.clickCard())}eventButton(){const t=document.querySelector(".footer__button"),a=document.querySelector(".svg");t.addEventListener("click",()=>{t.checked&&(this.game(),t.disabled=!0,t.checked&&a.addEventListener("click",t=>{t.target.classList.contains("svg")&&(this.playSound(this.i),console.log("stop"))}))})}};const l=(t,a)=>{let e=0;document.querySelectorAll(".section > img").forEach(s=>{s.addEventListener("click",s=>{const i=((t,a)=>{let e=[],s="",i=!1,r=0;if(localStorage.getItem("statistic")){if(s=localStorage.getItem("statistic"),e=JSON.parse(s),e.forEach((a,e)=>{a.catTrain===t&&(r=e,i=!0)}),!i){const{length:i}=e;e.push({catTrain:t,word:[],translate:[],base:[]}),a.category.forEach(t=>{e[i].word.push({word:t.word,col:0}),e[i].translate.push({word:t.word,translate:t.translation,col:0}),e[i].base.push({img:t.image,audioSrc:t.audioSrc,col:0})}),s=JSON.stringify(e),localStorage.setItem("statistic",s)}}else e.push({catTrain:t,word:[],translate:[],base:[]}),a.category.forEach(t=>{e[0].word.push({word:t.word,col:0}),e[0].translate.push({word:t.word,translate:t.translation,col:0}),e[0].base.push({img:t.image,audioSrc:t.audioSrc,col:0})}),s=JSON.stringify(e),localStorage.setItem("statistic",s);return{obj:e,number:r}})(t,a);s.target.classList.contains("rotate")&&(i.obj[i.number].translate.every((t,a)=>t.word!==s.target.offsetParent.offsetParent.firstElementChild.dataset.name||(e=a,!1)),i.obj[i.number].translate[e].col+=1,localStorage.setItem("statistic",JSON.stringify(i.obj))),s.target.classList.add("rotate_no"),s.target.classList.remove("rotate"),s.target.offsetParent.offsetParent.firstElementChild.classList.add("card-front_rotate"),s.target.offsetParent.offsetParent.firstElementChild.nextElementSibling.classList.add("card-back_rotate"),document.querySelectorAll("#card-wrapper").forEach(t=>{t.addEventListener("mouseleave",()=>{document.querySelectorAll(".card-back").forEach(t=>{t.classList.remove("card-back_rotate")}),document.querySelectorAll(".section > img").forEach(t=>{t.classList.contains("rotate_no")&&(t.classList.add("rotate"),t.classList.remove("rotate_no"))}),document.querySelectorAll(".card-front").forEach(t=>{t.classList.remove("card-front_rotate")})})})})})},g=()=>{document.querySelectorAll("#card-wrapper").forEach(t=>{t.addEventListener("click",t=>{t.target.classList.contains("rotate")||t.target.classList.contains("tip")||t.target.classList.contains("card-wrapper")||t.target.classList.contains("rotate_no")||t.target.offsetParent.offsetParent.querySelector("#sound").play()})})},m=(t,a,...e)=>{const s=document.querySelector("#doggle");s.addEventListener("click",()=>{if(s.checked){const t="play";localStorage.setItem("state",t),a.statePlay(t),a.createPlay(),a.playArr(),a.eventButton(),e.forEach(t=>t())}else{const a="train";localStorage.setItem("state",a),t.createCategory(a),g(),l(),e.forEach(t=>t()),document.querySelector(".footer").innerHTML=""}})},u=localStorage.getItem("category"),p=document.querySelector(".h1"),h=new c,f=(()=>{const t=document.querySelector("#doggle");let a="";return localStorage.getItem("state")?(a=localStorage.getItem("state"),t.checked="play"===a):(a="train",t.checked=!1),a})(),v=new n(f,u,"../"),y=new d(v,f);let S=(()=>{let t="";return t=localStorage.getItem("reload")?localStorage.getItem("reload"):"off",t})();window.onload=()=>{"off"===S?"Statistic"===u?(document.title=u,p.innerHTML=u,S="on",localStorage.setItem("reload",S)):(document.title=u,p.innerHTML=u,v.createCategoriesMenu(),"play"===f?(y.createPlay(),y.playArr(),y.eventButton(),m(v,y)):(v.createCategory(),m(v,y),g(),l(u,v)),document.querySelectorAll(".header__nav__item > a").forEach(t=>{t.addEventListener("click",t=>{localStorage.setItem("reload","off");const a=t.target.innerText;localStorage.setItem("category",a)})}),S="on",localStorage.setItem("reload",S)):(S="off",localStorage.setItem("reload",S),document.location.href="../")},h.init()}]);